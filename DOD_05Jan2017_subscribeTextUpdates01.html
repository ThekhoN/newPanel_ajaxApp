<!DOCTYPE html>
<html lang="en">
<head>
  <!--enable this on local test-->
  <!-- <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9"> -->
  <meta charset="UTF-8">
  <title>Document</title>
  <!-- <link rel="stylesheet" href="stylesheets/screen.css"> -->
  <link rel="stylesheet" href="https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/dod_22Dec2016.css">

  <script type="text/javascript">
    var pictureTag_supported = !!window.HTMLPictureElement;
    checkPicturefill_req();
    function checkPicturefill_req() {
       if (!pictureTag_supported) {
           ['https://cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.1/picturefill.min.js'].forEach(function(src) {
               var script = document.createElement('script');
               script.src = src;
               script.async = true;
               document.head.appendChild(script);
           });
       } else {
           console.log('picture tag supported, picturefill not required!');
       }
    }
</script>

<script>
  // required for Internet Explorer
  !function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
</head>
<body>
<!--fbShare crawlerImage 200px 200px define ALT for the image/-->
<img src="https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/google_sultan/VD_FB_icon_Diwali_1Oct.jpg" style="display:none;" alt="Diwali Sale">
<!--/fbShare crawlerImage-->
<div id="mainWrapperX_newX999" class="inHouseDevs_pageWrapper">
  <div id="back-top" class="">
    <a href="#top" class="hashAdded">
      <i class="back-to-top-icon backTopImg"></i>
    </a>
  </div>

    <div class="headerBannerX" >
            <picture>
              <!--[if IE 9]><video style="display: none;"><![endif]-->
              <source srcset="https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/dodHeader_sdGold_Web.jpg" media="(min-width: 768px)">
              <source srcset="https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/dodHeader_sdGold_Wap.jpg" media="(min-width: 320px)">
              <source srcset="https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/dodHeader_sdGold_Wap.jpg" >
              <!--[if IE 9]></video><![endif]-->
              <img srcset="https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/dodHeader_sdGold_Web.jpg 768w,
              https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/dodHeader_sdGold_Wap.jpg 360w,
              https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/dodHeader_sdGold_Wap.jpg 320w" sizes="100%" alt="Deals of the Day Snapdeal 2016">
              </picture>
  		</div>

    <div class="x99bgWrap"></div>

    <!--mainWrapper for all sections-->
    <div class="Btc_container">

        <!--Bank Offers-->
        <div class="sectionX " style="margin-bottom:0px;">
          <div class="innerCard_sectionXWrap whiteBgX99 borderRounded4px  ">
            <!--add offers_WrapperX99-->
            <ul id="bankOfferBannerX99" class="offers_WrapperX99 footerBannerX99_Wrapper">

            </ul>
          </div>
        </div>

        <!--SuperDeals-->
        <div class="sectionX marginTopOffsetX99_conditional">
          <div class="innerCard_sectionXWrap whiteBgX99 borderRounded4px ">
            <!--captionWrapper-->
            <div class="captionWrapper_new gradient_orangeToRed">
              <h3>
                Super Deals of the Day
              </h3>
            </div>
            <!--offerCont_wrap-->
            <div class="offerCont_wrap ">
              <div class="wrap_InnerContentX  flex_width_contstraWrap_96_76_100" id="superDodDouble_offerUnit_Wrapper">
                <div class="offerUnit_Wrapper">

                    <div class="relFontSize_util relWrapperX99 ">

                        <ul id="superDod" class="superDeals_centered offers_WrapperX99 ">
                          <!--inactive li template-->

                          <li class=" inactive dodSuperDeal_unit offerUnits_2_2 dodSuperDealUnit_ev" id="">
                            <div class="offerUnit_innerContWrap" id="">
                                    <div class="offerUnit_href_afterWrap">
                                        <div class="offerUnit_imgWrap_sdPlusInc_rel">
                                          <img class="offerUnit_img OfferImg b-lazy b-loaded" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="placeholder image"></div>
                                        <div class="offerUnit_nonImgContWrap">
                                            <div class="wrapCenterCont">
                                                <div class="centeredContX">
                                                    <div class="preData_transitionE_1 offerUnit_title twoLine_TitleX99"></div>
                                                    <div class="preData_transitionE_2 offerUnit_priceTaglineWrap_rel">
                                                        <div class="offerUnit_priceWrap"><span class="offerUnit_priceWrapAll"><span class="offerUnit_price"></span><span class="offerUnit_displayPrice"></span></span>
                                                        </div>
                                                        <div class="offerUnit_discountWrap">
                                                            <div class="offerUnit_discount"></div>
                                                        </div>
                                                    </div>
                                                    <div class="preData_transitionE_3 offerUnit_ratingWrap" data-pogid="639198810200">
                                                    </div>
                                                    <div class="wrap_saveAmt"><span></span></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                          </li>
                            <li class=" inactive dodSuperDeal_unit offerUnits_2_2 dodSuperDealUnit_ev" id="">
                              <div class="offerUnit_innerContWrap" id="">
                                      <div class="offerUnit_href_afterWrap">
                                          <div class="offerUnit_imgWrap_sdPlusInc_rel">
                                            <img class="offerUnit_img OfferImg b-lazy b-loaded" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="placeholder image"></div>
                                          <div class="offerUnit_nonImgContWrap">
                                              <div class="wrapCenterCont">
                                                  <div class="centeredContX">
                                                      <div class="preData_transitionE_1 offerUnit_title twoLine_TitleX99"></div>
                                                      <div class="preData_transitionE_2 offerUnit_priceTaglineWrap_rel">
                                                          <div class="offerUnit_priceWrap"><span class="offerUnit_priceWrapAll"><span class="offerUnit_price"></span><span class="offerUnit_displayPrice"></span></span>
                                                          </div>
                                                          <div class="offerUnit_discountWrap">
                                                              <div class="offerUnit_discount"></div>
                                                          </div>
                                                      </div>
                                                      <div class="preData_transitionE_3 offerUnit_ratingWrap" data-pogid="639198810200">
                                                      </div>
                                                      <div class="wrap_saveAmt"><span></span></div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                              </div>
                            </li>

                          <!--/inactive li template-->
                        </ul>

                    </div>

                </div>
              </div>

            </div>
          </div>
        </div>

        <!--DealofDayOffers-->
        <div class="sectionX " id="onClickFilter_ScrollTo" style="margin-bottom: 0;">
            <div class="innerCard_sectionXWrap whiteBgX99 borderRounded4px ">
              <!--Timer captionWrapper-->
              <div class="captionWrapper_new gradient_orangeToRed hasTimerX99" id="CaptionTimerWrapper" style="display: none;"  >
                    <h3>
                      <span class="captionSpanX99 hideX99"  >
                        Deals of the Day
                      </span>
                      <span class="captionSpanX99" id="featuredDeals_text99">Deals of the Day</span>
                    </h3>

                    <div class="caption_timerWrapperX99" id="caption_timerWrapperX99_Main"  >
                      <div class="caption_timer_UnitWrap_rel" style="opacity: 1;">
                            <div id="liveTimerOffer_01_timer" class="timerX99_Wrapper" >
                              <span class="timerX_valueX dayV_timerX"></span>
                              <span class="timerX_labelX dayL_timerX">:</span>
                              <span class="timerX_valueX hrV_timerX"></span>
                              <span class="timerX_labelX hrL_timerX">:</span>

                              <span class="timerX_valueX minV_timerX"></span>
                              <span class="timerX_labelX minL_timerX">&nbsp;min&nbsp;:&nbsp;</span>
                              <span class="timerX_valueX secV_timerX"></span>
                              <span class="timerX_labelX secL_timerX">&nbsp;sec&nbsp;</span>
                          </div>
                      </div>
                    </div>
                    <!--vwAll example-->
                    <div id="SuperDeals_vwAll" class="offerUnit_vwAll_WrapperX99 offers_WrapperX99">
                      <div class="offerUnit_vwAll_abs">
                        <a href="">VIEW ALL</a>
                      </div>
                    </div>
              </div>
              <!--/Timer captionWrapper-->

              <!--captionWrapper-->
              <div class="captionWrapper_new gradient_greenToBlue "  >
                  <h3>
                    Deals of the Day
                  </h3>
                <div id="DealofDayOffers_vwAll" class="offerUnit_vwAll_WrapperX99 offers_WrapperX99">
                </div>
              </div>
              <!--offerCont_wrap-->
              <div class="offerCont_wrap whiteCard_bg setBottomOffset">
                  <div class="offerUnit_Wrapper">
                    <div class="offerUnit">
                    <div class="width_ContstraX relFontX resp_LiX dummyHeight_bg innerSection">
                      <!--width_ContstraX-->
                      <ul id="DealofDayOffers" class="offers_WrapperX99 relFontSize_util">
                        <!--setHTML here-->
                        <!--inactive li template-->

                        <li class="inactive paddingWrapX99">
                            <div class="offerUnit_imgWrap_sdPlusInc_rel">
                              <img class="offerUnit_img OfferImg b-lazy b-loaded" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="placeholder image">
                            </div>
                            <div class="offerUnit_discountWrap">
                              <div class="offerUnit_discount">100%</div>
                            </div>
                            <div class="preData_transitionE_1 offerUnit_title">&nbsp;</div>
                            <div class="preData_transitionE_2 offerUnit_ratingWrap ">
                              &nbsp;
                              <div class=" offerUnit_rating_rel">
                                <div class="ratingBG_disabled"></div>
                                <div class="ratingBG_active" style="width:50px;"></div>
                              </div><span class="numberRevsX"></span>
                            </div>
                            <div class="preData_transitionE_3 offerUnit_priceTaglineWrap_rel">
                              <div class="offerUnit_priceWrap">
                              </div>
                            </div>
                        </li>
                        <li class="inactive paddingWrapX99">
                            <div class="offerUnit_imgWrap_sdPlusInc_rel">
                              <img class="offerUnit_img OfferImg b-lazy b-loaded" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="placeholder image">
                            </div>
                            <div class="offerUnit_discountWrap">
                              <div class="offerUnit_discount">100%</div>
                            </div>
                            <div class="preData_transitionE_1 offerUnit_title">&nbsp;</div>
                            <div class="preData_transitionE_2 offerUnit_ratingWrap ">
                              &nbsp;
                              <div class=" offerUnit_rating_rel">
                                <div class="ratingBG_disabled"></div>
                                <div class="ratingBG_active" style="width:50px;"></div>
                              </div><span class="numberRevsX"></span>
                            </div>
                            <div class="preData_transitionE_3 offerUnit_priceTaglineWrap_rel">
                              <div class="offerUnit_priceWrap">
                              </div>
                            </div>
                        </li>
                        <li class="inactive paddingWrapX99">
                            <div class="offerUnit_imgWrap_sdPlusInc_rel">
                              <img class="offerUnit_img OfferImg b-lazy b-loaded" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="placeholder image">
                            </div>
                            <div class="offerUnit_discountWrap">
                              <div class="offerUnit_discount">100%</div>
                            </div>
                            <div class="preData_transitionE_1 offerUnit_title">&nbsp;</div>
                            <div class="preData_transitionE_2 offerUnit_ratingWrap ">
                              &nbsp;
                              <div class=" offerUnit_rating_rel">
                                <div class="ratingBG_disabled"></div>
                                <div class="ratingBG_active" style="width:50px;"></div>
                              </div><span class="numberRevsX"></span>
                            </div>
                            <div class="preData_transitionE_3 offerUnit_priceTaglineWrap_rel">
                              <div class="offerUnit_priceWrap">
                              </div>
                            </div>
                        </li>
                        <li class="inactive paddingWrapX99">
                            <div class="offerUnit_imgWrap_sdPlusInc_rel">
                              <img class="offerUnit_img OfferImg b-lazy b-loaded" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="placeholder image">
                            </div>
                            <div class="offerUnit_discountWrap">
                              <div class="offerUnit_discount">100%</div>
                            </div>
                            <div class="preData_transitionE_1 offerUnit_title">&nbsp;</div>
                            <div class="preData_transitionE_2 offerUnit_ratingWrap ">
                              &nbsp;
                              <div class=" offerUnit_rating_rel">
                                <div class="ratingBG_disabled"></div>
                                <div class="ratingBG_active" style="width:50px;"></div>
                              </div><span class="numberRevsX"></span>
                            </div>
                            <div class="preData_transitionE_3 offerUnit_priceTaglineWrap_rel">
                              <div class="offerUnit_priceWrap">
                              </div>
                            </div>
                        </li>

                        <!--/inactive li template-->
                      </ul>
                      <!--/width_ContstraX-->
                      </div>
                    </div>
                  </div>
              </div>
            </div>
        </div>

        <!--shareX99_wrapper-->
        <div class="sectionX overFlowVisX99 ">
          <div class="innerCard_sectionXWrap overFlowVisX99">
            <div class="shareX99_wrapper">
              <div class="shareX99">
                  <div class="shareX99_h3Wrap">
                      <div class="rocketWrap_diwaliF rocketBG_diwaliF">
                      </div>
                      <h3> <span class="WISH-YOU">WISH YOU</span> <br>
                      <span class="A-Happy-Diwali">
                        A Happy Diwali
                      </span>
                      </h3>
                  </div>

                <div class="shareThisPageOn_Wrap">
                        <div class="airplaneWrap_diwaliF airPlaneBG_diwaliF"></div>
                        <div class="shareThisPageOnTxt">
                          Share <span class="conditionalShow_small">this page</span> on:
                        </div>
                        <div class="shareIconX_icoWrapper" >
                            <ul>
                                <li class="facebookX unit_socialX99"> <i class="sprite_diwaliF sprite_diwaliF_facebook"></i></li>
                                <li class="twitterX unit_socialX99" data-hashtag="SnapdealUnboxDiwaliDeals2016"> <i class="sprite_diwaliF sprite_diwaliF_twitter"></i></li>
                                <li class="googleplusX unit_socialX99"> <i class="sprite_diwaliF sprite_diwaliF_google"></i></li>
                                <li class="pinterestX unit_socialX99"> <i class="sprite_diwaliF sprite_diwaliF_pinterest"></i> </li>
                                <!-- <li class="sprite_diwaliF whatsappX "> <i class="sprite_diwaliF sprite_diwaliF_facebook"></i></li> -->
                            </ul>
                        </div>

                  </div>

                </div>
              </div>
          </div>
        </div>
        <!--/shareX99_wrapper-->

        <!--SUBSCRIBE-->
        <div class="sectionX dod_subscribe">
          <div class="relWrapper_anim">
            <div id="dod_innerMain" class="dod_inner">
              <div class="dodHeading subsribe_text"> Get regular<span> alerts</span> for deals of the day! </div>
              <div class="subsribe_btn" >
                  <div class="preferCategoryHeading subsribe_text">Choose category/categories :</div>
                  <div class="subscribe_form">
                      <form action="https://docs.google.com/forms/d/e/1FAIpQLSdLUEP2R89tJJ4D2SYb7zAB-7TpAH9xUDcbo1Noj0CoHnzKbA/formResponse" method="POST" id="ss-form" target="hidden_iframe" class="infocusform" onsubmit="validateDodFormSubmit();">
                          <div class="dealform_filed">

                            <ul class="listingdiv">
                                      <li> <label>
                                <input name="entry.622013395" value="Home &amp; Daily Needs" id="group_622013395_1" role="checkbox" class="ss-q-checkbox valid"  aria-required="true" type="checkbox" >
                                <label class="caption" for="group_622013395_1">Home &amp; Daily Needs</label> </label>
                                      </li>
                                      <li> <label>
                                <input name="entry.622013395" value="Electronics &amp; Mobiles" id="group_622013395_2" role="checkbox" class="ss-q-checkbox valid" aria-required="true" type="checkbox" >
                                <label class="caption" for="group_622013395_2">Electronics &amp; Mobiles</label> </li>
                                      <li> <label>
                                <input name="entry.622013395" value="Womens Fashion" id="group_622013395_3" role="checkbox" class="ss-q-checkbox valid" aria-required="true" type="checkbox" >
                                  <label class="caption" for="group_622013395_3">Women's Fashion</label> </label>
                                      </li>
                                      <li> <label>
                                <input name="entry.622013395" value="Mens Fashion" id="group_622013395_4" role="checkbox" class="ss-q-checkbox valid" aria-required="true" type="checkbox" >
                                <label class="caption" for="group_622013395_4">Men's Fashion</label> </label>
                                      </li>
                                      <li> <label>
                                <input name="entry.622013395" value="Kids Fashion" id="group_622013395_5" role="checkbox" class="ss-q-checkbox valid" aria-required="true" type="checkbox" ></span>
                                  <label class="caption" for="group_622013395_5">Kids'</label> </label>
                                      </li>
                                      <li> <label>
                                <input name="entry.622013395" value="All Category" id="group_622013395_6" role="checkbox" class="ss-q-checkbox valid" aria-required="true" type="checkbox" >
                                <label class="caption" for="group_622013395_6">All</label> </label>
                                      </li>
                            </ul>
                          </div>
                          <div class="dealform_filed">
                            <div class="formErrorLog"></div>
                            <div class="dodinputfiled"> <input name="entry.2056924394" value="" class="sub_submit" id="entry_2056924394" dir="auto" aria-label="Email  " aria-required="true" required="" title="" type="email" placeholder="Please enter your email ID"> <input class="sub_button btn-3 submitFormX99" type="submit" name="REGISTER" value="Subscribe" id='submit' > </div>

                          </div>
                      </form>
                  </div>


                  <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"> </iframe>
                  <!--<button class="faclick">Click</button>-->
                  <div class="divforapp">
                      <p style="margin-top:0%"></p>
                  </div>
              </div>
          </div>
            <div id="subthankyou_text_Wrapper" class="hiddenX99">
              <div class="subthankyou_text">
                Thank you for the subscription.<span class="conditionalDisplayX99"><br></span> We will keep you posted...
              </div>
            </div>
          </div>
        </div>
        <!--/SUBSCRIBE-->

        <!--footerBanner-->
        <div class="sectionX ">
          <!--add offers_WrapperX99-->
          <ul id="NGOFooterBannerX99" class="offers_WrapperX99 footerBannerX99_Wrapper fullWidth_itemsX99">

          </ul>
        </div>

    <!--/mainWrapper for all sections-->
    </div>

</div>


<!-- fastdom-promised -->
<script>
  !function(){function b(a,b,c,d){var g,e=a._tasks,f=a.fastdom,h=new Promise(function(a,i){g=f[b](function(){e.delete(h);try{a(d?c.call(d):c())}catch(a){i(a)}},d)});return e.set(h,g),h}var a={initialize:function(){this._tasks=new Map},mutate:function(a,c){return b(this,"mutate",a,c)},measure:function(a,c){return b(this,"measure",a,c)},clear:function(a){var b=this._tasks,c=b.get(a);this.fastdom.clear(c),b.delete(c)}};"f"==(typeof define)[0]?define(function(){return a}):"o"==(typeof module)[0]?module.exports=a:window.fastdomPromised=a}();
</script>
<!--ajaxApp-->

<!-- <script src="js/bundle.js"></script> -->
<script src="https://i1.sdlcdn.com/static/img/marketing-mailers/mailer/2016/x_999/ajaxApp_22Dec2016.js"></script>



<script>
  console.log('live...22Dec2016 v3');
  //predefining url because app does not support window.location.href
  var liveURLx = 'deal-of-the-day';
  var test_OfferName = 'test-z666';
  //local
  var local_testURL = (window.admin && window.admin == 'true' ? '/admin' : '') + "csvData_mobileapi7.json";
  //live
  var pre_liveURLx = 'https://mobileapi.snapdeal.com/service/generic/get/getGenericOffer?landingPage=';
  var post_liveURLx = '&start=0&count=150';
  var predefined_url = pre_liveURLx + liveURLx + post_liveURLx;
  var test_url = pre_liveURLx + test_OfferName + post_liveURLx;
  //final url to be consumed
  var use_finalURLx = '';
  // * * * pass local_testURL as get_use_finalURLx(local_testURL) for LOCAL TESTS * * *//
  var test_url99 = 'https://mobileapi.snapdeal.com/service/generic/get/getGenericOffer?landingPage=test-z999&start=0&count=100';
  var url = get_use_finalURLx();

  function get_use_finalURLx(local_testURL) {
    //if local
    if (local_testURL) {
        console.log('running on local: ', local_testURL);
        use_finalURLx = local_testURL;
        console.log('using local_testURL. . .');
    }
    else if(!local_testURL && window.location.href.indexOf('/offers/') < 0){
      console.log('running on panel/local, using predefined url. . .');
      use_finalURLx = predefined_url;
    }
    else {
      var landingPageUrl_offerName = get_landingPageUrl_offerName();
      use_finalURLx = pre_liveURLx + landingPageUrl_offerName + post_liveURLx;
    }
    console.log('finalURL for req: ', use_finalURLx);
    return use_finalURLx;
  }

  function get_landingPageUrl_offerName(url) {
    var live_url, final_OfferName;
    if(url){
      live_url = url;
    }
    else {
      live_url = document.URL || document.location || window.location.href;
    }
    var checkStart = '/offers/';
    var checkStart_len = checkStart.length;
    var checkStart_index = live_url.indexOf(checkStart) + checkStart_len;
    var checkEnd = '?';
    var _OfferName = live_url.substr(checkStart_index);
    console.log('_OfferName: ',_OfferName);
    if(_OfferName.indexOf(checkEnd) > -1){
      var OfferName = _OfferName.substr(0,_OfferName.indexOf(checkEnd));
      console.log('finalResult: ', OfferName);
      final_OfferName = OfferName;
    }
    else {
      console.log('url does not contain ?, using _OfferName ', _OfferName);
      final_OfferName = _OfferName;
    }
    final_OfferName = final_OfferName.toLowerCase();

    return final_OfferName;
  };

</script>

<script>

  var _AjaxApp = new AjaxPageApp ({
    url:url,
    //showSoldOut_g: true
  });
  _AjaxApp.init();
</script>

<!--form subscription-->
<!-- <script src="js/subscribeSubmit_vanilla3.js"></script> -->
<script>
//domNodes
var _ss_q_checkbox = document.getElementsByClassName('ss-q-checkbox');
var _form = document.getElementById('ss-form');
var _subsribe_text = document.getElementsByClassName('subsribe_text');
var _dealform_filed = document.getElementsByClassName('dealform_filed');
var _subthankyou_text = document.getElementsByClassName('subthankyou_text')[0];
var _divforapp = document.getElementsByClassName('divforapp')[0];
var _email = document.getElementById('entry_2056924394');
var _submitFormX99 = document.getElementsByClassName('submitFormX99')[0];
var _ss_q_checkboxInputs = document.getElementsByClassName('ss-q-checkbox');
var _formErrorLog = document.getElementsByClassName('formErrorLog')[0];

var _subthankyou_text_Wrapper = document.getElementById('subthankyou_text_Wrapper');
var _dod_innerMain = document.getElementById('dod_innerMain');
var _formErrorLogHeightDefault = _formErrorLog.style.height;
//formValidation

_submitFormX99.addEventListener('click', validateDodFormSubmit);

function resetFormError() {
    //console.log('running reset. . .');
    _formErrorLog.style.height = _formErrorLogHeightDefault;
    _formErrorLog.style.opacity = 0;
    _formErrorLog.innerHTML = '';
}

function validateEmail(email) {
      var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(email);
}

function appendFormError(ele, message, DomNode){
  var newEle = document.createElement(ele);
  newEle.innerHTML = message;
  DomNode.appendChild(newEle);
}

for (var i = 0; i < _ss_q_checkbox.length; i++) {
    _ss_q_checkbox[i].addEventListener('click', function () {
        resetFormError();
    });
}

function validateDodFormSubmit(e) {
    e.preventDefault();

    if(_formErrorLog.children.length > 0){
        _formErrorLog.innerHTML = '';
    }

  var _current_formErrorLogHeight = _formErrorLog.style.height;
 _formErrorLogHeight = (_current_formErrorLogHeight > _formErrorLogHeightDefault) ? _current_formErrorLogHeight: _formErrorLogHeightDefault;

  function animate_formErrorLog() {
    _formErrorLog.style.height = '16px' + _formErrorLogHeight;
    fadeInDisplay(_formErrorLog);
  }

  var checkedContainerX99 = [];
  var categorySelected = false;
  for (var i = 0; i < _ss_q_checkbox.length; i++) {
      if (_ss_q_checkbox[i].checked) {
          categorySelected = true;
          checkedContainerX99.push(i);
      }
  }

  if(checkedContainerX99.length < 1 || categorySelected === false){
    var checkboxErrMssg = 'please choose a category. . .';
    animate_formErrorLog();
    appendFormError('span', checkboxErrMssg, _formErrorLog);
    return;
  }

  if(_email.value === ''){
    var emailUndefinedErrMssg = 'please enter your email. . .';
    animate_formErrorLog();
    appendFormError('span', emailUndefinedErrMssg, _formErrorLog);
    return;
  }
  if(!validateEmail(_email.value)){
    var emailSyntaxErrMssg = 'please enter a valid email. . .';
    animate_formErrorLog();
    appendFormError('span', emailSyntaxErrMssg, _formErrorLog);
    return;
  }
  yoloKR();
}

function yoloKR() {
  var glob = [];
  for (var i = 0; i < _ss_q_checkbox.length; i++) {
      var this_ss_q_checkbox = _ss_q_checkbox[i];

      if (this_ss_q_checkbox.checked) {
          glob.push(this_ss_q_checkbox.value);
      }
  }
  console.log('updated glob: ', glob);
  sweep(glob);
  setTimeout(function() {
      _form.reset();
  }, 500);
  for (var n = 0; n < _subsribe_text.length; n++) {
      _subsribe_text[n].style.display = 'none';
  }
  for (var k = 0; k < _dealform_filed.length; k++) {
      _dealform_filed[k].style.display = 'none';
  }
  _divforapp.style.display = 'none';
  _dod_innerMain.style.display='none';
  toggleClassX99(_subthankyou_text_Wrapper, 'hiddenX99');
  //previous
  //_subthankyou_text.style.display = 'block';
}


function toggleClassX99(el, className) {
    if (el.classList) {
        el.classList.toggle(className);
    } else {
        var classes = el.className.split(' ');
        var existingIndex = classes.indexOf(className);
        if (existingIndex >= 0) classes.splice(existingIndex, 1);
        else classes.push(className);
        el.className = classes.join(' ');
    }
}

function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
function sweep(glob) {
  var emailx = _email.value;
  var xdata = '{"sweepstakeFormId": "DODSweep1", "sweepstakeQs":["' + glob + '"], "sweepstakeAs":[], "alertEmail":"' + emailx + '"}';
  var podata = JSON.parse(xdata);
  console.log('podata' + JSON.stringify(podata));
  var url = '/sweepstakesDPCall';
  var params = JSON.stringify(podata);
  xhr_POST(url, params);
}
function xhr_POST(url, params) {
  var xhr = new XMLHttpRequest();
  xhr.open("POST", url, true);
  xhr.setRequestHeader("Content-type", "application/json; charset=utf-8");
  xhr.onreadystatechange = function() {
      if (xhr.readyState == 4 && xhr.status == 200) {
          console.log('xhr_POST state change. . .', xhr.responseText);
      }
  };
  xhr.onerror = function(err) {
      console.log('there was an error with the POST: ', err);
  };
  xhr.send(params);
}

_email.addEventListener('click', function () {
    resetFormError();
    var mobgetemail = getCookie('eid');
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
      divforapp.style.display = 'block';
    }
    if (mobgetemail) {
        _email.value = mobgetemail.split('"').join('');
    }
});


for (var j = 0; j < _ss_q_checkboxInputs.length; j++) {
  var this_ss_q_checkboxInputs = _ss_q_checkboxInputs[j];
  if (this_ss_q_checkboxInputs.checked) {
      this_ss_q_checkboxInputs.removeAttrubute('required');
  }
}

/// form validation///

//  +++++ transitionEnd +++++ //
function fadeInDisplay (el){
  el.style.display = 'block';
  el.style.opacity = 0;
  var last = +new Date();
  var tick = function(){
    el.style.opacity = +el.style.opacity + (new Date() - last)/400;
    last = +new Date();
    if(+el.style.opacity < 1){
      (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);
    }
  };
  tick();
}

</script>

<!--leftNav-->
<script type="text/javascript">
var Update_leftNavMenuRevampOffsetLeft=function(){function i(){var a=document.body.getBoundingClientRect(),b=c.getBoundingClientRect(),g=b.left-a.left,h=g-f+d;e.style.cssText="left:"+(h-200)+"px !important"}function j(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}var a={},b=!0,c=document.getElementsByClassName("menuIconBar")[0];if(c&&null!==c)var d=c.offsetWidth;else console.log(".menuIconBar not found!"),b=!1;var e=document.getElementById("leftNavMenuRevamp");if(e&&null!==e)var f=e.offsetWidth;else console.log("#leftNavMenuRevamp not found!"),b=!1;return a.init=function(){if(b===!1)return void console.log("DOMelemsFound was false, Update_leftNavMenuRevampOffsetLeft.init did not run!");i();var a=j(function(){console.log("running Update_leftNavMenuRevampOffsetLeft"),i()},250);window.addEventListener("resize",a)},a}();
Update_leftNavMenuRevampOffsetLeft.init();
</script>
</body>
</html>
